{"openapi":"3.0.3","info":{"title":"monisens","description":"","contact":{"name":"","email":""},"license":{"name":""},"version":"0.1.0"},"paths":{"/service/configure-device":{"post":{"tags":["service"],"operationId":"configure_device","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigureDeviceRequest"}}},"required":true},"responses":{"200":{"description":"Ok response"}},"deprecated":false}},"/service/connect-device":{"post":{"tags":["service"],"operationId":"connect_device","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectDeviceRequest"}}},"required":true},"responses":{"200":{"description":"Ok response"}},"deprecated":false}},"/service/interrupt-device-init":{"post":{"tags":["service"],"operationId":"interrupt_device_init","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterruptDeviceInitRequest"}}},"required":true},"responses":{"200":{"description":"Ok response"}},"deprecated":false}},"/service/obtain-device-conf-info":{"post":{"tags":["service"],"operationId":"obtain_device_conf_info","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObtainDeviceConfInfoRequest"}}},"required":true},"responses":{"200":{"description":"Ok response with device conf info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ObtainDeviceConfInfoResponse"}}}}},"deprecated":false}},"/service/start-device-init":{"post":{"tags":["service"],"operationId":"start_device_init","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/DeviceStartInitRequest"}}},"required":true},"responses":{"200":{"description":"Ok response with device id and connection params","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceStartInitResponse"}}}}},"deprecated":false}}},"components":{"schemas":{"ConfigureDeviceRequest":{"type":"object","required":["device_id","confs"],"properties":{"confs":{"type":"array","items":{"$ref":"#/components/schemas/DeviceConfEntry"}},"device_id":{"type":"integer","format":"int32"}}},"ConnParam":{"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"$ref":"#/components/schemas/ConnParamValType"}}},"ConnParamConf":{"type":"object","required":["name","typ"],"properties":{"name":{"type":"string"},"typ":{"$ref":"#/components/schemas/ConnParamType"}}},"ConnParamType":{"type":"string","enum":["Bool","Int","Float","String"]},"ConnParamValType":{"oneOf":[{"type":"object","required":["Bool"],"properties":{"Bool":{"type":"boolean"}}},{"type":"object","required":["Int"],"properties":{"Int":{"type":"integer","format":"int32"}}},{"type":"object","required":["Float"],"properties":{"Float":{"type":"number","format":"float"}}},{"type":"object","required":["String"],"properties":{"String":{"type":"string"}}}]},"ConnectDeviceRequest":{"type":"object","required":["device_id","connect_conf"],"properties":{"connect_conf":{"type":"array","items":{"$ref":"#/components/schemas/ConnParam"}},"device_id":{"type":"integer","format":"int32"}}},"DeviceConfEntry":{"type":"object","required":["id"],"properties":{"data":{"$ref":"#/components/schemas/DeviceConfType"},"id":{"type":"integer","format":"int32"}}},"DeviceConfInfoEntry":{"type":"object","required":["id","name","data"],"properties":{"data":{"$ref":"#/components/schemas/DeviceConfInfoEntryType"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"DeviceConfInfoEntryChoiceList":{"type":"object","required":["required","choices"],"properties":{"choices":{"type":"array","items":{"type":"string"}},"default":{"type":"integer","format":"int32"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryFloat":{"type":"object","required":["required"],"properties":{"default":{"type":"number","format":"float"},"gt":{"type":"number","format":"float"},"lt":{"type":"number","format":"float"},"neq":{"type":"number","format":"float"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryFloatRange":{"type":"object","required":["required","min","max"],"properties":{"def_from":{"type":"number","format":"float"},"def_to":{"type":"number","format":"float"},"max":{"type":"number","format":"float"},"min":{"type":"number","format":"float"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryInt":{"type":"object","required":["required"],"properties":{"default":{"type":"integer","format":"int32"},"gt":{"type":"integer","format":"int32"},"lt":{"type":"integer","format":"int32"},"neq":{"type":"integer","format":"int32"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryIntRange":{"type":"object","required":["required","min","max"],"properties":{"def_from":{"type":"integer","format":"int32"},"def_to":{"type":"integer","format":"int32"},"max":{"type":"integer","format":"int32"},"min":{"type":"integer","format":"int32"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryJSON":{"type":"object","required":["required"],"properties":{"default":{"type":"string"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryString":{"type":"object","required":["required"],"properties":{"default":{"type":"string"},"match_regex":{"type":"string"},"max_len":{"type":"integer","format":"int32"},"min_len":{"type":"integer","format":"int32"},"required":{"type":"boolean"}}},"DeviceConfInfoEntryType":{"oneOf":[{"type":"object","required":["String"],"properties":{"String":{"$ref":"#/components/schemas/DeviceConfInfoEntryString"}}},{"type":"object","required":["Int"],"properties":{"Int":{"$ref":"#/components/schemas/DeviceConfInfoEntryInt"}}},{"type":"object","required":["IntRange"],"properties":{"IntRange":{"$ref":"#/components/schemas/DeviceConfInfoEntryIntRange"}}},{"type":"object","required":["Float"],"properties":{"Float":{"$ref":"#/components/schemas/DeviceConfInfoEntryFloat"}}},{"type":"object","required":["FloatRange"],"properties":{"FloatRange":{"$ref":"#/components/schemas/DeviceConfInfoEntryFloatRange"}}},{"type":"object","required":["JSON"],"properties":{"JSON":{"$ref":"#/components/schemas/DeviceConfInfoEntryJSON"}}},{"type":"object","required":["ChoiceList"],"properties":{"ChoiceList":{"$ref":"#/components/schemas/DeviceConfInfoEntryChoiceList"}}},{"type":"object","required":["Section"],"properties":{"Section":{"type":"array","items":{"$ref":"#/components/schemas/DeviceConfInfoEntry"}}}}]},"DeviceConfType":{"oneOf":[{"type":"object","required":["String"],"properties":{"String":{"type":"string"}}},{"type":"object","required":["Int"],"properties":{"Int":{"type":"integer","format":"int32"}}},{"type":"object","required":["IntRange"],"properties":{"IntRange":{"type":"array","items":{"type":"integer","format":"int32"}}}},{"type":"object","required":["Float"],"properties":{"Float":{"type":"number","format":"float"}}},{"type":"object","required":["FloatRange"],"properties":{"FloatRange":{"type":"array","items":{"type":"number","format":"float"}}}},{"type":"object","required":["JSON"],"properties":{"JSON":{"type":"string"}}},{"type":"object","required":["ChoiceList"],"properties":{"ChoiceList":{"type":"integer","format":"int32"}}}]},"DeviceStartInitRequest":{"type":"object","required":["device_name","module_file"],"properties":{"device_name":{"type":"string","format":"byte"},"module_file":{"type":"string","format":"binary"}}},"DeviceStartInitResponse":{"type":"object","required":["device_id","conn_params"],"properties":{"conn_params":{"type":"array","items":{"$ref":"#/components/schemas/ConnParamConf"}},"device_id":{"type":"integer","format":"int32"}}},"InterruptDeviceInitRequest":{"type":"object","required":["device_id"],"properties":{"device_id":{"type":"integer","format":"int32"}}},"ObtainDeviceConfInfoRequest":{"type":"object","required":["device_id"],"properties":{"device_id":{"type":"integer","format":"int32"}}},"ObtainDeviceConfInfoResponse":{"type":"object","required":["device_conf_info"],"properties":{"device_conf_info":{"type":"array","items":{"$ref":"#/components/schemas/DeviceConfInfoEntry"}}}},"TestUploadForm":{"type":"object","required":["file","name"],"properties":{"file":{"type":"string","format":"binary"},"name":{"type":"string","format":"byte"}}}}}}